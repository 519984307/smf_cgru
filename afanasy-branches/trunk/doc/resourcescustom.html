<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<link href="../../doc/styles.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="images/icon.png" type="image/png">
<title>Afanasy Custom Resources</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="CGRU: CG Tools, CG Rules, Afanasy - Free Open Source Render Farm Manager" />
<meta name="keywords" content="Houdini, Maya, Nuke, RenderMan, Mantra, Mentalray, Max, XSI, SoftImage, prman, Afanasy, animation, rendering, render, farm, manager, free, open source, 3D, 2D" />
</head>
<body>
<table width="99%" align="center">
<tr align="center">
<td width="33%">
<a href="http://sourceforge.net"><img src="../../doc/images/sflogo.png" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
</td>
<td width="33%">
<p><a href="../../index.html" target="_top"><img src="../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<a href="http://www.linkedin.com/groups/CGRU-AFANASY-4263049"><img src="../../doc/images/linkedin.png" border="0" alt="LinkedIn" /></a>
</td>
</tr>
</table>

<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../doc/images/header_left.png')" />
</td>
<td>
<div style="width:100%;height:40px;background:url('../../doc/images/header.png') repeat-x" />
</td>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../doc/images/header_right.png')" />
</td>
</tr>
</table>
<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0"><tr><td>
<!--HEADER-->

<h2 align="center">Afanasy Custom Resources</h2>
<hr />

<p>
You can write custom resources meter(s) on Python.
Render instances a class and runs <kbd>update</kbd> method periodically (each time the Render updates).
You can inherit base <kbd>resbase</kbd> class and set its properties.
</p>

<p>To make render to use you python class, list names in configuration file in <a href="render_config.html">render_resclasses</a> parameter.
There are some examples of custom meters in Afanasy.
<ul>
<li><b>example</b> - Just an example. It increments a value from 0 to 100, changes label text, plotter and label size, graph and back color.</li>
<li><b>iostat</b> - Shows parsed output of linux '<i>iostat</i>' command. Graph value is utilization percentage (or %busy).</li>
</ul>
</p>

<p>
This is how Watch shows two custom resources meters <kbd>example</kbd> and <kbd>iostat</kbd>.<br/>
<img src="images/watch/render_rescustom.png" alt="render_rescustom.png"><br/>
It places custom plotters in a second row, under standard build-in resources meters.<br/>
</p>

<p>
Python classes stored in <br/>
<code>cgru/afanasy/python/resources</code><br/>
and based from <br/>
<code>cgru/afanasy/python/resources/resbase.py</code><br/>
</p>

<h3>Properties:</h3>
<p>
<ul>
<li><b>self.value</b> (<kbd>int</kbd>) - The resource value to watch.
<li><b>self.valuemax</b> (<kbd>int</kbd>) - Maximum resource value for graph scale.
<li><b>self.height</b> (<kbd>int</kbd>) - Preferred plotter widget height for GUI.
<li><b>self.width</b> (<kbd>int</kbd>) - Preferred plotter widget width for GUI.
<li><b>self.graphr self.graphrg self.graphb</b> (<kbd>int</kbd>) - Graph color.
<li><b>self.label</b> (<kbd>str</kbd>) - Label text.
<li><b>self.labelsize</b> (<kbd>int</kbd>) - Label text font size.
<li><b>self.labelr self.labelg self.labelb</b> (<kbd>int</kbd>) - Label text font color.
<li><b>self.bgcolorr self.bgcolorg self.bgcolorb</b> (<kbd>int</kbd>) - Plotter background color.
<li><b>self.tooltip</b> (<kbd>str</kbd>) - Widget tooltip.
<li><b>self.valid</b> (<kbd>False|True</kbd>) - Resource meter validness.
Should be set to <kbd>True</kbd> in constructor, or update function will not be called.
Set <kbd>False</kbd> if resource meter initialization failed.
</li>
</ul>
</p>

<!--FOOTER-->
</td></tr></table>
<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_left.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_center.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_right.png')" />
</td>
</tr>
</table>

<table width="99%" align="center">
<tr align="center">
<td width="33%">
<a href="http://sourceforge.net/projects/cgru/"><img src="../../doc/images/sourceforgeproject.png" border="0" alt="SourceForge.net Project" /></a>
</td>
<td width="33%">
<p><a href="../../index.html" target="_top"><img src="../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<a href="http://libregraphicsworld.org/tag/cgru"><img src="../../doc/images/lgw.png" border="0" alt="Libre Graphics World" /></a>
</td>
</tr>
</table>
</body>
</html>
