<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<link href="../../../../doc/styles.css" rel="stylesheet" type="text/css" />
<title>Nuke Afanasy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="CGRU: CG Tools, CG Rules, Afanasy - Free Open Source Render Farm Manager" />
<meta name="keywords" content="Houdini, Maya, Nuke, RenderMan, Mantra, Mentalray, Max, XSI, SoftImage, prman, Afanasy, animation, rendering, render, farm, manager, free, open source, 3D, 2D" />
</head>
<body>
<table width="99%" align="center">
<tr align="center">
<td width="33%">
<a href="http://sourceforge.net/projects/cgru"><img src="../../../../doc/images/sflogo.png" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
</td>
<td width="33%">
<p><a href="../../../../index.html" target="_top"><img src="../../../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<a href="http://www.linkedin.com/groups/CGRU-AFANASY-4263049"><img src="../../../../doc/images/linkedin.png" border="0" alt="LinkedIn" /></a>
</td>
</tr>
</table>

<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../../../doc/images/header_left.png')" />
</td>
<td>
<div style="width:100%;height:40px;background:url('../../../../doc/images/header.png') repeat-x" />
</td>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../../../doc/images/header_right.png')" />
</td>
</tr>
</table>
<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0"><tr><td>
<!--HEADER-->

<h2 align="center">Afanasy in Nuke</h2>
<hr />

<p>
Nuke Afanasy interface consists of 'afanasy' nodes (gizmos) and menu items in main CGRU menu.
</p>

<p>
'afanasy' nodes need to render connected 'Write' nodes and to store render settings.
You can connect one 'afanasy' node to other 'afanasy' node to render other 'Write' node with different settings at the same time.
Each connected node will produce a block - an array of tasks (frames) to render.
You can specify dependence between connected nodes.
One 'Write' node(s) can wait all frames of other "Write" node(s) to be rendered.
Or one frame(s) from one 'Write' node can wait special frame(s) of other 'Write' node(s) to be rendered.
</p>

<p>
Also 'afanasy' nodes can send dailies jobs to farm.
</p>

<table width="99%" align="center">
<tr>
<td>
   <p align="center">Network:<br/>
   <img src="images/example_network.png" alt="images/example_network.png" /></p>
</td>
<td>
   <p align="center">Job: Composition rendering (dailies waiting)<br/>
   <img src="images/example_job_0.png" alt="images/example_job_0.png" />
   </p>
   <p align="center">Job: Rendering dailies from completed composition<br/>
   <img src="images/example_job_1.png" alt="images/example_job_1.png" />
   </p>
</td>
</tr>
</table>

<p>
For example, each <i>preview</i> frame will wait the same <i>final</i> frame. And each <i>final</i> frame, will wait the same <i>key</i> and <i>back</i> frame to be rendered, <i>key</i> and <i>back</i> frames are independent and the same frames can be rendered at the same time ('same frame' - frame with the same number).
</p>


<h3>'Render Selected...':</h3>

<p>
You can send selected node(s) using a window.
</p>

<table width="99%" align="center">
<tr>
<td>
   <p align="center">Selected nodes has the same frame settings,<br/>or just one node selected:<br/>
   <img src="images/render_selected.png" alt="images/render_selected.png" /></p>
</td>
<td>
   <p align="center">Selected nodes has different frame settings:<br/>
   <img src="images/render_selected_multi.png" alt="images/render_selected_multi.png" /></p>
</td>
</tr>
</table>
<p>
<ul>
<li><b>Nodes</b> - Selected nodes names. You can check and edit selection.</li>
<li><b>First Frame</b> - First frame to render.</li>
<li><b>Last Frame</b> - Last frame to render.</li>
<li><b>Frames Per Task</b> - Number of frames in task.</li>
<li><b>Store Frames Settings</b> - Store frame settings on selected nodes.</li>
<li><b>Start Paused</b> - Job will be paused.</li>
</ul>
<b><i>'1..5'</i></b> - two numbers, separated with two points means the lowest and highest value from all selected nodes. Type one number in input field to override frame settings on selected nodes.
</p>

<h3>'afanasy' node properties:</h3>

<p>
<p align="center">'General' Tab:<br/>
<img src="images/afanasy_general.png" alt="images/afanasy_general.png" /></p>
<ul>
<li><b>Job Name</b> - Name to add to job or blocks names. If empty, 'afanasy' node name will be used.</li>
<li><b>Use Time Range</b> - Set 'First Frame' and 'Last Frame' fields to project settings.</li>
<li><b>First Frame</b> - First frame to render.</li>
<li><b>Last Frame</b> - Last frame to render.</li>
<li><b>Frames Per Task</b> - Number of frames in task.</li>
<li><b>Render</b> - Send job to Afanasy server.</li>
<li><b>Start Paused</b> - Job will be paused.</li>
</ul>
</p>

<p>
<p align="center">'Parameters' Tab:<br/>
<img src="images/afanasy_parameters.png" alt="images/afanasy_parameters.png" /></p>
<ul>
<li><b>Platform</b> - OS type the job can launch tasks on: 'Any' - any OS, 'Native' - the same as the script was launched on.</li>
<li><b>Maximum Hosts</b> - Maximum number of hosts to run job tasks on. '-1' means no limit.</li>
<li><b>Priority</b> - Job priority. '-1' - set default priority value.</li>
<li><b>Hosts Mask</b> - If not empty, job can run only on hosts which name matches this pattern.</li>
<li><b>Exclude Hosts Mask</b> - If not empty, job can not run on hosts which name matches pattern.</li>
<li><b>Depend mask</b> - If not empty, job will wait job(s) to be done, which name(s) matches pattern.</li>
<li><b>Global Depend mask</b> - The same, but will wait for jobs from any user.</li>
<li><b>Capacity</b> - Tasks capacity. '-1' - set this value to default.</li>
<li><b>Minimum Capacity Coeff</b> - Variable capacity minimum multiplier. '-1' - means no minimum level.</li>
<li><b>Maximum Capacity Coeff</b> - Variable capacity minimum multiplier. '-1' - means no maximum level.<br/>
If and minimum and maximum capacity coefficients are '-1' - tasks can't variate capacity, all tasks will have constant capacity value in any case.</li>
</ul>
</p>

<p>
<p align="center">'MultiWrite' Tab:<br/>
<img src="images/afanasy_multiwrite.png" alt="images/afanasy_multiwrite.png" /></p>
<ul>
<li><b>Connected nodes are independent</b> - nodes can run at the same time, they will not wait each other.</li>
<li><b>Reverse dependences on connected nodes</b> - First block will wait second block. Most depended "Write" node usually produces more final result, and it will be executed as soon as possible.</li>
<li><b>Down stream will wait for whole frame range rendered</b> - Down stream connected node(s) will wait until whole specified frame range will be rendered. If not checked, each frame will be wait only corresponding frame(s) from this node.</li>
<li><b>Force upstream frame settings</b> - All upstream connected nodes will use this node frame range. Connected upstream node can re-force it, if this parameter is checked too.</li>
<li><b>Construct single job from all connected write nodes</b> - Constuct a block from each connected 'Write' node and put them into one job. If not checked, each connected 'Write' node will produce a job.</li>
</ul>
</p>

<p align="center">Test Network:<br/>
<img src="images/test_network.png" alt="images/test_network.png" /></p>

<table width="99%" align="center">
<tr>
<td>
   <p align="center">Single Job:<br/>
   <img src="images/test_singlejob.png" alt="images/test_singlejob.png" /></p>
</td>
<td>
   <p align="center">Multiply Jobs:<br/>
   <img src="images/test_multijobs.png" alt="images/test_multijobs.png" /></p>
</td>
</tr>
</table>


<h3>Example Scene:</h3>
<p>
<code> $ cd afanasy/examples/nuke</code><br/>
<code> $ ./nuke scene.nk</code><br/>
</p>


<!--FOOTER-->
</td></tr></table>
<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../../../doc/images/footer_left.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../../../doc/images/footer_center.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../../../doc/images/footer_right.png')" />
</td>
</tr>
</table>

<table width="99%" align="center">
<tr align="center">
<td width="33%">
<a href="https://github.com/CGRU/cgru"><img src="../../../../doc/images/github.png" border="0" alt="SourceForge.net Project" /></a>
</td>
<td width="33%">
<p><a href="../../../../index.html" target="_top"><img src="../../../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<a href="http://libregraphicsworld.org/tag/cgru"><img src="../../../../doc/images/lgw.png" border="0" alt="Libre Graphics World" /></a>
</td>
</tr>
</table>
</body>
</html>
