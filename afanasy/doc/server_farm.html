<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<link href="../../doc/styles.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="images/icon.png" type="image/png">
<title>Afanasy Farm Setup</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="CGRU: CG Tools, CG Rules, Afanasy - Free Open Source Render Farm Manager" />
<meta name="keywords" content="Houdini, Maya, Nuke, RenderMan, Mantra, Mentalray, Max, XSI, SoftImage, prman, Afanasy, animation, rendering, render, farm, manager, free, open source, 3D, 2D" />
</head>
<body>
<table width="99%" align="center">
<tr align="center">
<td width="33%">
<a href="http://sourceforge.net/projects/cgru"><img src="../../doc/images/sflogo.png" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
</td>
<td width="33%">
<p><a href="../../index.html" target="_top"><img src="../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<a href="http://www.linkedin.com/groups/CGRU-AFANASY-4263049"><img src="../../doc/images/linkedin.png" border="0" alt="LinkedIn" /></a>
</td>
</tr>
</table>

<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../doc/images/header_left.png')" />
</td>
<td>
<div style="width:100%;height:40px;background:url('../../doc/images/header.png') repeat-x" />
</td>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../doc/images/header_right.png')" />
</td>
</tr>
</table>
<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0"><tr><td>
<!--HEADER-->

<h2 align="center">Afanasy Farm Setup</h2>
<hr />

<p>
After general configuration, Afanasy try to load <kbd>cgru/afanasy/farm.xml</kbd> to setup a farm.
If this file does not exists it load <kbd>cgru/afanasy/farm_example.xml</kbd>
which setup default farm and provided as an example to copy and modify to describe your hosts.
</p>
<ul>
<li><p>
<code>pattern</code> <b>name</b>="<i>pattern name</i>"<br/>
</p>
<ul>
   <li><p>
   <code>mask</code><br/>
   Hosts which names matches this A <a href="../../doc/regexp.html">mask</a> will take this pattern settings.
   </p></li>
   <li><p>
   <code>description</code><br/>
   Does not mean anything for sever, job or render host, only for humans.
   </p></li>
   <li><p>
   <code>os</code><br/>
   Operating system name. Can be matched by jobs.
   </p></li>
   <li><p>
   <code>capacity</code><br/>
   Running Tasks maximum capacity value.
   </p></li>
   <li><p>
   <code>maxtasks</code><br/>
   Maximum number of simultaneously running tasks.
   </p></li>
   <li><p>
   <code>power</code><br/>
   Some number which minimum can be needed by jobs.
   </p></li>
   <li><p>
   <code>properties</code><br/>
   Some string which matching can be needed by jobs.
   </p></li>
   <li><p>
   <code>service</code> <b>name</b>="<i>type</i>" <b>count</b>="<i>limit number</i>"<br/>
   List of names and counts of available services.
   </p></li>
   <li><p>
   <code>remservice</code> <b>name</b>="<i>type</i>"<br/>
   List of service names to remove.
   </p></li>
   <li><p>
   <code>clearservices</code><br/>
   Clear all previously collected services.
   </p></li>
</ul>
</li>
<li>
<p>
<code>service</code> <b>name</b>="<i>service</i>" <b>maxcount</b>="<i>limit number</i>" <b>maxhosts</b>="<i>limit number</i>"<br/>
Service limit on entire farm. You can use it to describe software licenses limits.<br/>
<b>name</b> - Service name.<br/>
<b>maxhosts</b> - Maximum number of different hosts service can run on.<br/>
<b>maxcount</b> - Maximum number of service total starts (no matter on the same host or not).<br/>
</p>
</li>
<ul>

</ul>
</li>
</ul>
<p>
Host will take parameters from every matched pattern.
Each next pattern will redefine specified parameter.
If parameter is not specified host will use parameter from previously matched pattern.
If you want to remove some previously defined service use <i>remservice</i> field.
</p><p>
First pattern mask in default farm is ".*" - means that host with any name will take some default settings.
</p>

<!--FOOTER-->
</td></tr></table>
<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_left.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_center.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_right.png')" />
</td>
</tr>
</table>

<table width="99%" align="center">
<tr align="center">
<td width="33%">
<a href="https://github.com/CGRU/cgru"><img src="../../doc/images/github.png" border="0" alt="SourceForge.net Project" /></a>
</td>
<td width="33%">
<p><a href="../../index.html" target="_top"><img src="../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<a href="http://libregraphicsworld.org/tag/cgru"><img src="../../doc/images/lgw.png" border="0" alt="Libre Graphics World" /></a>
</td>
</tr>
</table>
</body>
</html>
