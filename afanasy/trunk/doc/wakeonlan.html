<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<link href="../../doc/styles.css" rel="stylesheet" type="text/css" />
<link rel="shortcut icon" href="images/icon.png" type="image/png">
<title>Afanasy Wake-On-LAN</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="author" content="Timur Hairulin" />
<meta name="description" content="CGRU: CG Tools, Afanasy - Free Open Source Render Farm Manager" />
<meta name="keywords" content="Houdini, Maya, Nuke, RenderMan, Mantra, Mentalray, Max, XSI, SoftImage, prman, Afanasy, animation, rendering, render, farm, manager, free, open source, 3D, 2D" />
</head>
<body>
<table width="99%" align="center">
<tr align="center">
<td width="33%">
<a href="http://sourceforge.net"><img src="../../doc/images/sflogo.png" width="88" height="31" border="0" alt="SourceForge.net Logo" /></a>
</td>
<td width="33%">
<p><a href="../../index.html" target="_top"><img src="../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<a href="http://cgtalk.ru"><img src="../../doc/images/cgtalkru.png" width="88" height="31" border="0" alt="CGTALK.RU Logo" /></a>
</td>
</tr>
</table>

<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../doc/images/header_left.png')" />
</td>
<td>
<div style="width:100%;height:40px;background:url('../../doc/images/header.png') repeat-x" />
</td>
<td width="200px">
<div style="width:100%;height:40px;background:url('../../doc/images/header_right.png')" />
</td>
</tr>
</table>
<table width="90%" border="0" align="center" cellpadding="0" cellspacing="0"><tr><td>
<!--HEADER-->

<h2 align="center">Wake-On-LAN</h2>
<hr />
<p>

<p>
You can setup Afanasy to Wake-On-LAN machines.
</p>

<p>
Wake-On-LAN work-flow:
</p>

<ul>
<li>
Server sends a message to client to ask him to sleep.
</li>
<li>
Client receives message from server to sleep.
</li>
<li>
Client executes a <b><i>wolsleep</i></b> command which can be customized in Afanasy configuration.
</li>
<li>
Client falls a sleep.
</li>
<li>
Server does not receives updates from client and make it offline.
</li>
<li>
Server "decides" to wake a render up.
</li>
<li>
Sever add task <b><i>wolwake mac1 .. macN</i></b> to system job wake-on-lan block.
<b><i>wolwake</i></b> command can be customized in Afanasy configuration.
</li>
<li>
Another online and ready render executes the task.
</li>
<li>
This task sends magic packet for each mac address of a sleeping render to a broadcast address.
It is a small Python script provided with CGRU.
</li>
<li>
Render wakes up.
</li>
</ul>

<p>
If is a new feature. Not well tested.
</p>

<p>
You can wake and sleep renders by <code>afwatch</code> GUI and <code>afcmd</code> command.
</p>

<h3>Configuration</h3>

<p>See <a href="server_config.html">server configuration</a> about XML configuration files.</p>

<ul>
<li><p>
<code>render_cmd_wolsleep</code> = wolsleep<br/>
Sleep command performed by a render client.
</p></li>
<li><p>
<code>render_cmd_wolwake</code> = wolwake<br/>
Wake command constructed by a server and performed on a online client by the system job.
</p></li>
</ul>

<!--FOOTER-->
</td></tr></table>
<table width="100%" align="center" cellpadding="0" cellspacing="0">
<tr>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_left.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_center.png')" />
</td>
<td>
   <div style="width:100%;height:40px;background:url('../../doc/images/footer.png') repeat-x" />
</td>
<td width="200px">
   <div style="width:100%;height:40px;background:url('../../doc/images/footer_right.png')" />
</td>
</tr>
</table>

<table width="99%" align="center">
<tr align="center">
<td width="33%">
<small><i><a href="http://sourceforge.net/projects/cgru/"><img src="../../doc/images/sourceforgeproject.png" border="0" alt="SourceForge.net Project" /></a></i></small>
</td>
<td width="33%">
<p><a href="../../index.html" target="_top"><img src="../../doc/images/cgru16.png" border="0" alt="CGRU" /></a></p>
</td>
<td width="33%">
<small><i><a href="http://www.cgtalk.ru/forum/forumdisplay.php?f=168"><img src="../../doc/images/cgtalkforum.png" border="0" alt="cgtalkforum" /></a></i></small>
</td>
</tr>
</table>
</body>
</html>
